Page 67

## 7.1.2 Log Parser VS Non-Log Parser

In the context of log anomaly detection tasks, researchers have discussed the log parsing problem. Some researchers believe that log parsers can efficiently convert unstructured data into a unified structured format, which is convenient for processing by neural networks. Therefore, even if log parsers have the drawback of inaccurate parsing, existing log parsers should be used to parse the logs. Some researchers argue that if log parsers are used, some log parsing errors are caused by these parsers, and these errors cannot be recognized by the Transformer model itself, thus reducing the overall performance of the model. Table 5 summarizes the views of relevant studies on whether to use log parsing or not.

As can be seen from Table 5, researchers hold different views on whether to use a log parser and what type/method to use. Li et al. [40] further classified log parsing methods into several categories, e.g., similarity-based clustering, frequency-based clustering, and heuristic methods based on search trees. In this paper, we argue that whether to use a log parser depends on the specific situation. Generally speaking, if a log parsing method such as Drain is used, the generality of the model can be enhanced.

<!-- image -->

| parser Re a sons          | during the standardization pro cess. F urthermore, when a log p arser is used, the p erformance of the log anomaly dete ction mo del b ecomes highly dep enden t on the compatibilit y of a log parser rather than the logic of the mo del itself. The algorithm builds a parse tree based on the con ten t o f the log en try , and uses the information con tained in eac h la y er of the parse tree to determine the log template, thereb y con v erting unstructured log en tries in to structured log templates. Through our empirical study , w e find that existing log-based anomaly detection approac hes are significan tly affected b y log parsing errors that are in tro duced b y OO V (out-of-v o cabulary) w ords a nd sema n tic misunderstandings. The log parsing errors could cause the loss of imp ortan t information for anomaly detection. In order to represen t log messages, follo w i n g a t ypical pre-pro cessing approac h, w e first extract log k eys (string templates) from log messages via a log parser. Log p arsing pro vid e s a mapping function of the ra w log messages in to log tem- plates, e .g . log instruction in the source co de. In this w ork, w e adopt Dr a in, due to its sp eed a nd efficiency . Ho w ev er, t h e learning of the sequence of templates still has limit a t io ns in terms of generalization for previously unseen log messages. The metho ds tend to pro duce false predictions mostly o wing to the imp erfect log v ector represen tations. the pap er. SwissLo g targets at those faults resulting in log sequence order c hanges and log time in terv al c hanges. T o ac hiev e that, an adv anced log parser is in tro duced. The purp ose of log parsing is to con v ert unstructured log data in to the structured ev en t te mp l a te b y remo ving parameters and k eeping k eyw ords. d com bining the log k ey and parameter v alues with   |            |        | Drain     |                             | Y Drain Y metho   | Metho ds inspired b y BER T W e design a log parsing seman tic represen tation to a ll eviate the problem of insufficien t information in ev en t   |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|--------|-----------|-----------------------------|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| log parser name (if used) | Drain                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | -          | Drain  |           | - A met h o d prop osed b y |                   |                                                                                                                                                     |
| Ref. Whether used log     | [ 34 ] Y                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Y [ 35 ] N | [ 16 ] | [ 112 ] Y | [ 132 ] N [ 40 ] Y          | [ 63 ]            | [ 44 ]                                                                                                                                              |
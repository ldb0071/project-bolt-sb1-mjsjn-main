Page 1

## LogELECTRA: Self-supervised Anomaly Detection for Unstructured Logs

Yuuki Yamanaka NTT Social Informatics Laboratories Tokyo, Japan yuuki.yamanaka@ntt.com

Tomokatsu Takahashi NTT Social Informatics Laboratories Tokyo, Japan tomokatsu.takahashi@ntt.com

Takuya Minami NTT Social Informatics Laboratories Tokyo, Japan takuya.minami@ntt.com

Yoshiaki Nakajima NTT Social Informatics Laboratories Tokyo, Japan yoshiaki.nakajima@ntt.com

Abstract -System logs are some of the most important information for the maintenance of software systems, which have become larger and more complex in recent years. The goal of log-based anomaly detection is to automatically detect system anomalies by analyzing the large number of logs generated in a short period of time, which is a critical challenge in the real world. Previous studies have used a log parser to extract templates from unstructured log data and detect anomalies on the basis of patterns of the template occurrences. These methods have limitations for logs with unknown templates. Furthermore, since most log anomalies are known to be point anomalies rather than contextual anomalies, detection methods based on occurrence patterns can cause unnecessary delays in detection. In this paper, we propose LogELECTRA, a new log anomaly detection model that analyzes a single line of log messages more deeply on the basis of self-supervised anomaly detection. LogELECTRA specializes in detecting log anomalies as point anomalies by applying ELECTRA, a natural language processing model, to analyze the semantics of a single line of log messages. LogELECTRA outperformed existing state-of-the-art methods in experiments on the public benchmark log datasets BGL, Sprit, and Thunderbird.

Index Terms -Anomaly Detection, Log Analysis, Deep Learning, Natural Language Processing

## I. INTRODUCTION

With advances in the IT industry in recent years, software systems have become larger and more complex, and the difficulty of maintaining them has become a major issue. System logs, which record the status and events of a system at a certain time stamp, are very important information when maintaining complex software systems. Through the monitoring of system logs, operators can understand the status of the system and quickly identify problems such as incidents, failures, anomalous behavior and cyber-attacks. System logs is need to be monitored in real-time to quickly detect anomalies and ensure stable system operation. However, as software systems become larger, system logs are generated on a large scale in a short period of time, making them difficult to analyze

This work was supported by the Cabinet Office (CAO), Cross-ministerial Strategic Innovation Promotion Program (SIP), 'Cyber Physical Security for IoT Society' (funding agency: NEDO).

manually in real time. For this reason, automatic real-time log anomaly detection is being actively researched [1]-[6].

The system log is a sequence of log messages collected simultaneously from the software system. A log message is a pair of timestamps and a string of characters generated by certain syntax rules, and it contains a record of a specific system event in each line. The strings in log messages can be further divided into a fixed part (the log template) and a variable part (the log parameters). For example, the log message 'total of 100 MB of files have been downloaded.' can be divided into '100 MB' and the rest [7]-[11].

With the recent remarkable progress in the deep learning technology, deep learning is also being used in the log anomaly detection technology. Existing deep learning-based log anomaly detection techniques have two steps. The first step is to convert the log message into a feature representation that is vector representation suitable for anomaly detection at a later step. The conversion to feature representation can be divided into two approaches, depending on the use of a log parser. A log parser is a tool that can perform parsing on unstructured log messages and the log messages are split into log templates and log parameters. Typical log parsers include Drain, Spell, IPLoM, and AEL [7]-[10]. The time series of log template indices and their frequency vectors are then used as feature representation vectors. Recently, several methods have been proposed to convert log templates into semantic representation vectors using Word2Vec and BERT models trained on large text corpus such as Wikipedia. In the parser-free approach, on the other hand, basic preprocessing such as normalization and removal of stop words is performed. Then, natural language processing models such as Transformer are used to directly embed the text into feature representation vectors. The second step is anomaly log detection using deep learning. In this step, the feature representation vectors obtained in the previous step are used to build an anomaly detection model to find anomalous log messages. Depending on the type of deep learning technique used, it can be divided into supervised and unsupervised approaches. In the supervised approach, the log anomaly detection problem is formulated as
Time-series anomaly detection is a long-standing research topic in the /field of machine learning. In this work, we proposed MadSGM, a novel framework based on SGMs for anomaly detection by designing a conditional score network and its denoising score matching loss. Especially, our method is distinguished from other existing methods for anomaly detection in that i) it can employ the most comprehensive set of anomaly measurements and ii) there exists the puri/fication process to eradicate potentially misleading (conditional) inputs. The /first strategy enables capturing diverse anomaly patterns from time series data with complicated characteristics, and the other helps enlarge the di/fference between the observed and reconstructed observation and thereby, it becomes easier to detect anomalies with our method even when the input has noises. Our extensive experiments with /five benchmark datasets and nine baselines successfully demonstrate that these two strategies make the performance of anomaly detection improve severely, showing that MadSGM provided outstanding performance compared to other anomaly detection methods.
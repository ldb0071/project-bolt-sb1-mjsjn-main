Page 8

## 5.3 Results

We evaluate the performance on three synthesized datasets generated by TTGenerator for five types of time series anomalies: global point anomaly, local point anomaly, seasonality anomaly, trend anomaly, and shape anomaly. The datasets have different time series lengths of 100, 200, and 400. More details about the synthesized datasets can be found in Appendix A.5 and more experimental results in Appendix B.3.

Overall Performance We compare the performance of the original LLaMA3 with our fine-tuned version. The results are shown in Table 4. Generally, for both models, the performance decreases as the length of the time series increases. Despite the relatively low F-score for point-aware anomalies, the Range-F score is relatively high, indicating that the model is able to capture the correct anomalies but may hallucinate in the surrounding indices. Comparing point-aware and context-aware anomalies, both models provide more stable performance on context-aware anomalies compared to point-aware anomalies across different time series lengths. Comparing the original and fine-tuned versions of LLaMA3, the ability to detect local point anomalies and shape anomalies does not seem to benefit much from the instruction fine-tuning. However, we observe general improvements in the average F-score and Range-F, with significant improvements in detecting seasonality anomalies.

Hallucination in Indices Similar to GPT-4, LLaMA3 exhibits hallucinations in its detection results. Table 5 presents these findings. Interestingly, we observe a decreasing trend in the number of

Figure 4: Examples for a) good, b) bad, and c) hallucinated explanation by LLaMA3

<!-- image -->

Table 4: Overall performance of original and fine-tuned LLaMA3 on the synthesized dataset

| Anomaly Type   | Metrics         | 100           | Original 200   | 400           | 100           | Fine-tuned 200   | 400           |
|----------------|-----------------|---------------|----------------|---------------|---------------|------------------|---------------|
| Global Point   | F-score Range-F | 0.0528 0.4091 | 0.0300 0.2205  | 0.0104 0.1207 | 0.0539 0.4157 | 0.0264 0.2443    | 0.0130 0.1421 |
| Local Point    | F-score         | 0.0415        | 0.0286         | 0.0182        | 0.0426        | 0.0245           | 0.0174        |
| Seasonality    | Range-F         | 0.3481        | 0.2595         | 0.1664        | 0.3611        | 0.2424           | 0.1624        |
| Seasonality    | Range-F         | 0.4436        | 0.3904         | 0.3369        | 0.5479        | 0.4114           | 0.3477        |
| Trend          | F-score Range-F | 0.0772 0.2520 | 0.1315         | 0.0958        | 0.0750        | 0.1314           | 0.1871        |
| Trend          | Range-F         |               | 0.2195         | 0.1367        | 0.2321        | 0.2397           | 0.2354        |
| Shape          | F-score         | 0.2193        | 0.2171         | 0.2460        |               | 0.1966           | 0.2414        |
| Shape          |                 |               | 0.3199         | 0.3115        | 0.3871        |                  |               |
| Overall        | F-score         | 0.1323        | 0.1392         |               | 0.2489        | 0.3117           |               |
| Overall        |                 | 0.3981        |                |               |               |                  | 0.3393        |
|                |                 |               |                | 0.1165        | 0.1679        | 0.1447           | 0.1342        |
|                | Range-F         | 0.3702        | 0.2820         | 0.2144        | 0.3888        | 0.2899           | 0.2454        |

hallucinated time series segments with the fine-tuned LLaMA3 compared to GPT-4's performance (Appendix B.2), while LLaMA3 tends to hallucinate more indices than GPT-4.

Table 5: Details of hallucination of fine-tuned LLaMA3 on each dataset. Table 6: Summary of the explanation capability of LLaMA3 for different anomaly types.

|   Length |   # Segments |   Mean |   Median |
|----------|--------------|--------|----------|
|      100 |           63 |  197.5 |    166   |
|      200 |           43 |  213.2 |    203.5 |
|      400 |           36 |  148.9 |    141   |

| Count                            |   Global |   Local |   Seasonal |   Trend |   Shape |
|----------------------------------|----------|---------|------------|---------|---------|
| Good Explanation                 |       27 |      23 |          7 |       9 |      12 |
| Good Explanation w Hallucination |        3 |       5 |          3 |       3 |       1 |